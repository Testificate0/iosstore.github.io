<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Classic App Store</title>
  <link rel="stylesheet" href="https://unpkg.com/ios.css@1.0.0/ios.min.css">
  <style>
    body {
      background-color: white;
      color: black;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    .app {
      border-bottom: 1px solid #ccc;
      padding: 10px;
      display: flex;
    }
    .app img {
      width: 48px;
      height: 48px;
      margin-right: 10px;
    }
    .app-details {
      flex: 1;
    }
    .install-button {
      display: inline-block;
      margin-top: 5px;
      padding: 4px 10px;
      font-size: 14px;
      background-color: #007aff;
      color: white;
      text-decoration: none;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="toolbar">
    <h1>App Store</h1>
  </div>
  <div id="app-list" class="content">
    <p>Loading apps...</p>
  </div>

  <script>
    fetch('apps.json')
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('app-list');
        container.innerHTML = '';

        data.forEach(app => {
          const appDiv = document.createElement('div');
          appDiv.className = 'app';

          const icon = document.createElement('img');
          icon.src = app.icon;

          const details = document.createElement('div');
          details.className = 'app-details';

          const title = document.createElement('strong');
          title.textContent = app.name + ' v' + app.version;

          const desc = document.createElement('p');
          desc.textContent = app.description;

          const info = document.createElement('p');
          info.textContent = `Size: ${app.size} | Requires: ${app.requirements}`;

          const installLink = document.createElement('a');
          installLink.className = 'install-button';

          if (app.platform === 'ios') {
            installLink.href = app.plist_url;
          } else if (app.platform === 'android') {
            installLink.href = app.apk_url;
          } else if (app.platform === 'windows') {
            installLink.href = app.appx_url;
          }

          installLink.textContent = 'Install';

          details.appendChild(title);
          details.appendChild(desc);
          details.appendChild(info);
          details.appendChild(installLink);

          appDiv.appendChild(icon);
          appDiv.appendChild(details);
          container.appendChild(appDiv);
        });
      })
      .catch(err => {
        document.getElementById('app-list').innerHTML = '<p>Error loading app list.</p>';
        console.error(err);
      });
  </script>
</body>
</html>
